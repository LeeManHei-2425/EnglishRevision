<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Evaluation Report</title>
    
    <!-- 1. 引入 Tailwind CSS (樣式) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. 設定 Tailwind 字體 -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
              handwriting: ['Caveat', 'cursive'], // 手寫字體
            }
          }
        }
      }
    </script>

    <!-- 3. 引入 Google Fonts (手寫字型) -->
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- 4. 引入 Babel (讓瀏覽器看得懂 React) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 5. 設定 Import Map (讓 React 可以從網路載入) -->
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
        "lucide-react": "https://esm.sh/lucide-react@0.263.1"
      }
    }
    </script>
</head>
<body class="bg-gray-100">
    <div id="root"></div>

    <!-- 6. 你的 React 程式碼 -->
    <script type="text/babel" data-type="module">
        import React, { useState } from 'react';
        import { createRoot } from 'react-dom/client';
        import { BarChart, MessageSquare, StickyNote, ThumbsUp, Wifi, Bell, ArrowRight } from 'lucide-react';

        const App = () => {
          const [activeHighlight, setActiveHighlight] = useState(null);

          const handleHover = (id) => setActiveHighlight(id);
          const handleLeave = () => setActiveHighlight(null);

          const InteractiveText = ({ id, children }) => {
            const isActive = activeHighlight === id;
            return (
              <span
                onMouseEnter={() => handleHover(id)}
                onMouseLeave={handleLeave}
                onTouchStart={() => handleHover(id)}
                className={`cursor-pointer transition-colors duration-200 px-1 rounded ${
                  isActive ? 'bg-blue-200 text-blue-900 font-medium' : 'hover:bg-gray-100'
                }`}
                title="See source on the left"
              >
                {children}
              </span>
            );
          };

          const SourceBlock = ({ id, children, className = "" }) => {
            const isHighlighted = activeHighlight === id;
            
            return (
              <div
                className={`transition-all duration-300 transform rounded-lg p-1 md:p-2 border-2 ${
                  isHighlighted 
                    ? 'border-yellow-400 bg-yellow-50 shadow-lg scale-105 z-10' 
                    : 'border-transparent bg-transparent hover:bg-gray-50'
                } ${className}`}
              >
                {children}
              </div>
            );
          };

          return (
            <div className="min-h-screen bg-gray-100 p-2 md:p-8 font-sans overflow-x-hidden">
              <div className="max-w-7xl mx-auto grid grid-cols-12 gap-2 md:gap-6">
                
                {/* LEFT COLUMN: DATA SOURCES */}
                <div className="col-span-5 space-y-4 md:space-y-6">
                  <h2 className="text-sm md:text-xl font-bold text-blue-800 border-l-4 border-blue-600 pl-2 md:pl-3">
                    Data Sources
                  </h2>

                  {/* 1. Survey Results */}
                  <div className="bg-white p-2 md:p-4 rounded-xl shadow-sm">
                    <h3 className="text-xs md:text-lg font-bold mb-2 md:mb-4 flex items-center text-slate-700">
                      <span className="text-blue-600 font-black mr-1 md:mr-2">1.</span> Survey
                    </h3>

                    {/* Q1 Accuracy */}
                    <div className="mb-4 md:mb-6">
                      <h4 className="font-semibold text-[10px] md:text-sm text-slate-600 mb-1 md:mb-2 truncate">Q1. Accuracy of records</h4>
                      
                      <SourceBlock id="q1-very-accurate">
                        <div className="flex justify-between text-[10px] md:text-xs mb-1">
                          <span>Very Accurate</span>
                          <span className="text-blue-600 font-bold hidden md:inline">Hero Stat</span>
                        </div>
                        <div className="space-y-1">
                          <div className="flex items-center text-[10px] md:text-xs">
                            <span className="w-4 md:w-8 text-gray-400">Pre</span>
                            <div className="w-full bg-gray-200 h-1.5 md:h-2 rounded-full overflow-hidden">
                              <div className="bg-gray-400 h-full" style={{ width: '15%' }}></div>
                            </div>
                            <span className="w-6 md:w-8 text-right">15%</span>
                          </div>
                          <div className="flex items-center text-[10px] md:text-xs font-bold">
                            <span className="w-4 md:w-8 text-blue-600">Post</span>
                            <div className="w-full bg-blue-100 h-1.5 md:h-2 rounded-full overflow-hidden">
                              <div className="bg-blue-600 h-full" style={{ width: '85%' }}></div>
                            </div>
                            <span className="w-6 md:w-8 text-right text-blue-600">85%</span>
                          </div>
                        </div>
                      </SourceBlock>

                      <SourceBlock id="q1-not-accurate" className="mt-1">
                        <div className="flex justify-between text-[10px] md:text-xs mb-1">
                          <span>Not Accurate</span>
                          <span className="text-red-500 font-bold hidden md:inline">Drastic Drop</span>
                        </div>
                        <div className="space-y-1">
                          <div className="flex items-center text-[10px] md:text-xs">
                            <span className="w-4 md:w-8 text-gray-400">Pre</span>
                            <div className="w-full bg-gray-200 h-1.5 md:h-2 rounded-full overflow-hidden">
                              <div className="bg-slate-500 h-full" style={{ width: '70%' }}></div>
                            </div>
                            <span className="w-6 md:w-8 text-right">70%</span>
                          </div>
                          <div className="flex items-center text-[10px] md:text-xs font-bold">
                            <span className="w-4 md:w-8 text-blue-600">Post</span>
                            <div className="w-full bg-blue-100 h-1.5 md:h-2 rounded-full overflow-hidden">
                              <div className="bg-blue-300 h-full" style={{ width: '5%' }}></div>
                            </div>
                            <span className="w-6 md:w-8 text-right text-blue-600">5%</span>
                          </div>
                        </div>
                      </SourceBlock>
                    </div>

                    {/* Q2 Efficiency */}
                    <div>
                      <h4 className="font-semibold text-[10px] md:text-sm text-slate-600 mb-1 md:mb-2 truncate">Q2. Efficiency</h4>
                      <SourceBlock id="q2-efficiency">
                        <div className="flex justify-between text-[10px] md:text-xs mb-1">
                          <span>Highly Efficient</span>
                          <span className="text-blue-500 font-bold hidden md:inline">Salient</span>
                        </div>
                        <div className="space-y-1">
                          <div className="flex items-center text-[10px] md:text-xs">
                            <span className="w-4 md:w-8 text-gray-400">Pre</span>
                            <div className="w-full bg-gray-200 h-1.5 md:h-2 rounded-full overflow-hidden">
                              <div className="bg-gray-400 h-full" style={{ width: '10%' }}></div>
                            </div>
                            <span className="w-6 md:w-8 text-right">10%</span>
                          </div>
                          <div className="flex items-center text-[10px] md:text-xs font-bold">
                            <span className="w-4 md:w-8 text-blue-600">Post</span>
                            <div className="w-full bg-blue-100 h-1.5 md:h-2 rounded-full overflow-hidden">
                              <div className="bg-blue-600 h-full" style={{ width: '65%' }}></div>
                            </div>
                            <span className="w-6 md:w-8 text-right text-blue-600">65%</span>
                          </div>
                        </div>
                      </SourceBlock>
                    </div>
                  </div>

                  {/* 2. Chat Logs */}
                  <div className="bg-white p-2 md:p-4 rounded-xl shadow-sm">
                    <h3 className="text-xs md:text-lg font-bold mb-2 md:mb-4 flex items-center text-slate-700">
                      <span className="text-blue-600 font-black mr-1 md:mr-2">2.</span> Chat Logs
                    </h3>
                    
                    <div className="space-y-2 md:space-y-3">
                      <SourceBlock id="chat-student-a">
                        <div className="bg-green-50 p-2 md:p-3 rounded-lg border border-green-100 flex gap-2">
                          <div className="mt-1 flex-shrink-0"><ThumbsUp size={12} className="text-green-600" /></div>
                          <div className="min-w-0">
                            <div className="text-[10px] font-bold text-green-700">Student A:</div>
                            <div className="text-[10px] md:text-sm text-green-900 leading-tight">"Much faster than paper! Clean interface."</div>
                          </div>
                        </div>
                      </SourceBlock>

                      <SourceBlock id="chat-student-b">
                        <div className="bg-orange-50 p-2 md:p-3 rounded-lg border border-orange-100 flex gap-2">
                          <div className="mt-1 flex-shrink-0"><Wifi size={12} className="text-orange-500" /></div>
                          <div className="min-w-0">
                            <div className="text-[10px] font-bold text-orange-700">Student B:</div>
                            <div className="text-[10px] md:text-sm text-orange-900 leading-tight">"Crashes when Wi-Fi is weak. Can't check in!"</div>
                          </div>
                        </div>
                      </SourceBlock>

                      <SourceBlock id="chat-student-c">
                        <div className="bg-red-50 p-2 md:p-3 rounded-lg border border-red-100 flex gap-2">
                          <div className="mt-1 flex-shrink-0"><Bell size={12} className="text-red-500" /></div>
                          <div className="min-w-0">
                            <div className="text-[10px] font-bold text-red-700">Student C:</div>
                            <div className="text-[10px] md:text-sm text-red-900 leading-tight">"Loud 'BEEP' is embarrassing! Turn it off!"</div>
                          </div>
                        </div>
                      </SourceBlock>
                    </div>
                  </div>

                  {/* 3. Your Notes */}
                  <div className="bg-yellow-100 p-2 md:p-5 rounded-xl shadow-sm border border-yellow-200 relative overflow-hidden transform rotate-1">
                    <div className="absolute top-0 left-0 w-full h-2 bg-yellow-200 opacity-50"></div>
                    <h3 className="text-[10px] md:text-sm font-bold mb-2 md:mb-3 text-yellow-900 tracking-wider border-b-2 border-yellow-300 pb-1">NOTES</h3>
                    
                    <div className="space-y-2 md:space-y-4 font-handwriting text-yellow-900 text-[10px] md:text-sm italic leading-tight">
                      <div>
                        <strong className="block text-[9px] md:text-xs uppercase text-yellow-700 not-italic">Discussion:</strong>
                        <SourceBlock id="note-accuracy-efficiency">
                          <ul className="list-disc pl-3 space-y-0.5 md:space-y-1">
                            <li>Pilot → Accuracy & efficiency ↑</li>
                            <li>Real-time → Self-management</li>
                            <li>Digital → Reliable & eco-friendly</li>
                          </ul>
                        </SourceBlock>
                      </div>

                      <div>
                        <strong className="block text-[9px] md:text-xs uppercase text-yellow-700 not-italic mt-2 md:mt-3">Conclusion:</strong>
                        <SourceBlock id="note-conclusion">
                          <ul className="list-disc pl-3">
                            <li>Effective replacement</li>
                          </ul>
                        </SourceBlock>
                      </div>

                      <div>
                        <strong className="block text-[9px] md:text-xs uppercase text-yellow-700 not-italic mt-2 md:mt-3">Recs:</strong>
                        <ul className="list-disc pl-3 space-y-0.5 md:space-y-1">
                          <SourceBlock id="note-rollout"><li>Roll out next sem</li></SourceBlock>
                          <SourceBlock id="chat-student-b"><li>Add "Offline Mode"</li></SourceBlock>
                          <SourceBlock id="chat-student-c"><li>Silent Mode</li></SourceBlock>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>

                {/* RIGHT COLUMN: EVALUATION REPORT */}
                <div className="col-span-7">
                  <div className="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden sticky top-2 md:top-8">
                    <div className="bg-slate-50 border-b border-slate-200 p-2 md:p-4 flex items-center gap-2">
                      <StickyNote className="text-blue-600 w-4 h-4 md:w-6 md:h-6" />
                      <h2 className="font-bold text-xs md:text-lg text-slate-800">Evaluation Report</h2>
                    </div>
                    
                    <div className="p-2 md:p-8 space-y-3 md:space-y-6 text-slate-700 leading-relaxed text-[11px] md:text-base">
                      <div className="bg-blue-50 text-blue-800 p-2 md:p-3 rounded-md text-[10px] md:text-sm mb-2 md:mb-4 flex items-start gap-2 border border-blue-100">
                        <div className="mt-0.5 md:mt-1"><ArrowRight size={12} className="md:w-4 md:h-4" /></div>
                        <p><strong>Tip:</strong> Hover/Tap text to see source.</p>
                      </div>

                      {/* 3. FINDINGS */}
                      <section>
                        <h3 className="font-bold text-slate-900 mb-1 md:mb-2 text-xs md:text-base">3. FINDINGS</h3>
                        <p className="mb-2 md:mb-4 text-justify">
                          <InteractiveText id="q1-very-accurate">
                            Regarding accuracy, survey results revealed significant improvement. A majority of students reported attendance records were very accurate, compared to a figure of only 15% before the pilot project.
                          </InteractiveText>{' '}
                          <InteractiveText id="q1-not-accurate">
                            Conversely, those indicating records were not accurate dropped drastically from 70% before the project to a negligible 5%, showing a successful resolution of previous inaccuracies.
                          </InteractiveText>{' '}
                          <InteractiveText id="q2-efficiency">
                            Efficiency data is equally encouraging. The number of respondents considering the check-in process highly efficient rose sharply from 10% in the pre-pilot phase to 65% post-pilot.
                          </InteractiveText>
                        </p>
                        <p className="mb-2 md:mb-4 text-justify">
                          <InteractiveText id="chat-student-a">
                            Chat logs further support these statistics. Student A commended the clean interface, noting the process was significantly faster than passing paper lists around.
                          </InteractiveText>{' '}
                          <InteractiveText id="chat-student-b">
                            However, technical hurdles were highlighted. Student B noted experiencing app crashes when the campus Wi-Fi connection was weak, which prevented them from checking in.
                          </InteractiveText>{' '}
                          <InteractiveText id="chat-student-c">
                            Furthermore, Student C complained that the loud notification sound was distracting and embarrassing during lectures.
                          </InteractiveText>
                        </p>
                      </section>

                      {/* 4. DISCUSSION */}
                      <section>
                        <h3 className="font-bold text-slate-900 mb-1 md:mb-2 text-xs md:text-base">4. DISCUSSION</h3>
                        <p className="mb-2 md:mb-4 text-justify">
                          <InteractiveText id="note-accuracy-efficiency">
                            The findings suggest that the pilot project has effectively improved both accuracy and efficiency compared to manual methods.
                          </InteractiveText>{' '}
                          <InteractiveText id="note-accuracy-efficiency">
                            Through real-time data access, students have demonstrated better self-management capabilities.
                          </InteractiveText>{' '}
                          <InteractiveText id="note-accuracy-efficiency">
                            In other words, the transition successfully enhanced reliability while providing an eco-friendly alternative to paper records.
                          </InteractiveText>
                        </p>
                      </section>

                      {/* 5. CONCLUSION */}
                      <section>
                        <h3 className="font-bold text-slate-900 mb-1 md:mb-2 text-xs md:text-base">5. CONCLUSION</h3>
                        <p className="mb-2 md:mb-4 text-justify">
                          <InteractiveText id="note-conclusion">
                            In conclusion, findings indicate the project is a highly effective replacement for the manual system, supported by statistical evidence.
                          </InteractiveText>{' '}
                          <InteractiveText id="chat-student-b">
                            While largely successful, there is clear room for improvement to ensure stability in all network conditions.
                          </InteractiveText>
                        </p>
                      </section>

                      {/* 6. RECOMMENDATIONS */}
                      <section>
                        <h3 className="font-bold text-slate-900 mb-1 md:mb-2 text-xs md:text-base">6. RECOMMENDATIONS</h3>
                        <p className="mb-2 md:mb-4 text-justify">
                          <InteractiveText id="note-rollout">
                            In view of the positive findings, it is recommended that the app be officially rolled out to all departments next semester.
                          </InteractiveText>
                        </p>
                        <p className="mb-2 md:mb-4 text-justify">
                          <InteractiveText id="chat-student-b">
                            To address technical concerns, adding an "Offline Mode" is advisable to resolve connectivity issues experienced in areas with weak Wi-Fi.
                          </InteractiveText>{' '}
                          <InteractiveText id="chat-student-c">
                            Finally, to address noise feedback, a "Silent Mode" or mute option should be implemented to avoid disruption during classes.
                          </InteractiveText>
                        </p>
                      </section>

                    </div>
                  </div>
                </div>

              </div>
            </div>
          );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>